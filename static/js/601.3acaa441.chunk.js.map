{"version":3,"file":"static/js/601.3acaa441.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/ErrorMessage/errorMessage.module.scss?24a9","components/ErrorMessage/ErrorMessage.jsx","webpack://goit-react-hw-05-movies/./src/components/MovieGallery/movieGallery.module.scss?b5ed","components/MovieGallery/MovieGallery.jsx","webpack://goit-react-hw-05-movies/./src/components/Section/section.module.scss?d3fd","components/Section/Section.jsx","helpers/api.js","webpack://goit-react-hw-05-movies/./src/components/SearchForm/searchForm.module.scss?0049","components/SearchForm/SearchForm.jsx","pages/SearchMoviesPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"message\":\"errorMessage_message__lAJH9\"};","import s from './errorMessage.module.scss';\n\nconst ErrorMessage = () => {\n  return (\n    <div className={s.message}>\n      Oops we have a problem :( <br /> Please try again later...\n    </div>\n  );\n};\n\nexport default ErrorMessage;\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"movieGallery_list__zwCrH\",\"link\":\"movieGallery_link__-Jig2\",\"descr\":\"movieGallery_descr__iHgZg\"};","import { Link, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport s from './movieGallery.module.scss';\n\nconst MovieGallery = ({ movies }) => {\n  const location = useLocation();\n\n  return (\n    <ul className={s.list}>\n      {movies.map(({ id, title, poster_path }) => (\n        <li className={s.item} key={id}>\n          <Link\n            className={s.link}\n            to={`/movies/${id}`}\n            state={{ from: location }}\n          >\n            {poster_path ? (\n              <img\n                width={'250px'}\n                src={`https://image.tmdb.org/t/p/w500${poster_path}`}\n                alt={title}\n              />\n            ) : (\n              <img\n                width={'250px'}\n                src={`https://vjoy.cc/wp-content/uploads/2020/06/znak_voprosa_46_17183646.png`}\n                alt={title}\n              />\n            )}\n            <h2 className={s.descr}>{title}</h2>\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nexport default MovieGallery;\n\nMovieGallery.propTypes = {\n  movies: PropTypes.array.isRequired,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"title\":\"section_title__XzOLY\",\"wrapper\":\"section_wrapper__1esWR\"};","import s from './section.module.scss';\nimport PropTypes from 'prop-types';\n\nconst Section = ({ title, children }) => {\n  return (\n    <section className={s.wrapper}>\n      {title && <h1 className={s.title}>{title}</h1>}\n      {children}\n    </section>\n  );\n};\n\nexport default Section;\n\nSection.propTypes = {\n  title: PropTypes.string,\n  children: PropTypes.node,\n};\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\naxios.defaults.params = {\n  api_key: '63a5436f31e8ed5d869f5df89d5791bc',\n};\n\nexport const fetchPopularMovie = async () => {\n  const data = await axios.get('/trending/movie/day');\n  return { data };\n};\n\nexport const fetchMovieDetails = async movieId => {\n  const data = await axios.get(`/movie/${movieId}`);\n  return { data };\n};\n\nexport const fetchMovieCredits = async movieId => {\n  const data = await axios.get(`/movie/${movieId}/credits`);\n  return { data };\n};\n\nexport const fetchMovieReviews = async movieId => {\n  const data = await axios.get(`/movie/${movieId}/reviews`);\n  return { data };\n};\n\nexport const fetchMovieByQuery = async query => {\n  const data = await axios.get('/search/movie', {\n    params: {\n      query,\n    },\n  });\n\n  return { data };\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"searchForm_form__nfCSi\",\"label\":\"searchForm_label__DRGjp\",\"input\":\"searchForm_input__hJLqp\",\"btn\":\"searchForm_btn__5ouCn\"};","import s from './searchForm.module.scss';\nimport PropTypes from 'prop-types';\n\nconst SearchForm = ({ handleSubmit }) => {\n  return (\n    <form className={s.form} onSubmit={handleSubmit}>\n      <label className={s.label}>\n        <input name=\"movieName\" className={s.input} type=\"text\" />\n        <button className={s.btn} type=\"submit\">\n          Search\n        </button>\n      </label>\n    </form>\n  );\n};\n\nexport default SearchForm;\n\nSearchForm.propTypes = {\n  handleSubmit: PropTypes.func.isRequired,\n};\n","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { fetchMovieByQuery } from 'helpers/api';\nimport Section from 'components/Section/Section';\nimport MovieGallery from 'components/MovieGallery/MovieGallery';\nimport ErrorMessage from 'components/ErrorMessage/ErrorMessage';\nimport SearchForm from 'components/SearchForm/SearchForm';\nimport Loader from 'components/Loader/Loader';\n\nconst SearchMoviesPage = () => {\n  const [movies, setMovies] = useState(null);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const search = searchParams.get('value');\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const form = e.currentTarget;\n    const value = form.elements.movieName.value;\n    setSearchParams({ value });\n    form.reset();\n  };\n\n  useEffect(() => {\n    if (search) {\n      setLoading(true);\n\n      fetchMovieByQuery(search)\n        .then(({ data }) => setMovies(data.data.results))\n        .catch(error => setError(error.message))\n        .finally(() => setLoading(false));\n    }\n  }, [search]);\n\n  return (\n    <Section>\n      <SearchForm handleSubmit={handleSubmit} />\n      {loading && <Loader />}\n      {movies && <MovieGallery movies={movies} />}\n      {(movies?.length === 0 || error) && <ErrorMessage />}\n    </Section>\n  );\n};\n\nexport default SearchMoviesPage;\n"],"names":["className","s","movies","location","useLocation","map","id","title","poster_path","to","state","from","width","src","alt","children","axios","api_key","fetchPopularMovie","data","fetchMovieDetails","movieId","fetchMovieCredits","fetchMovieReviews","fetchMovieByQuery","query","params","handleSubmit","onSubmit","name","type","useState","setMovies","error","setError","loading","setLoading","useSearchParams","searchParams","setSearchParams","search","get","useEffect","then","results","catch","message","finally","Section","e","preventDefault","form","currentTarget","value","elements","movieName","reset","Loader","MovieGallery","length","ErrorMessage"],"sourceRoot":""}